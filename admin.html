<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø­ÙˆØ±Ø³ Ù†ÙŠÙˆØ²</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;500;600;700;800&family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Supabase -->
    <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary: #C9A227;
            --primary-dark: #A68A1F;
            --accent: #1a1a2e;
            --accent-light: #252542;
            --red: #e74c3c;
            --green: #27ae60;
            --blue: #3498db;
            --bg-dark: #0f0f1a;
            --bg-card: #1a1a2e;
            --text-white: #fff;
            --text-gray: #9CA3AF;
            --border: rgba(255,255,255,0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'IBM Plex Sans Arabic', sans-serif; background: var(--bg-dark); color: var(--text-white); min-height: 100vh; }
        h1,h2,h3,h4 { font-family: 'Noto Kufi Arabic', sans-serif; }

        .login-screen {
            position: fixed; inset: 0; background: var(--bg-dark);
            display: flex; align-items: center; justify-content: center; z-index: 9999;
        }
        .login-screen.hidden { display: none; }
        .login-box {
            background: var(--bg-card); padding: 40px; border-radius: 20px;
            width: 100%; max-width: 400px; text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .login-logo { margin-bottom: 30px; }
        .login-logo .icon {
            width: 80px; height: 80px; margin: 0 auto 15px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 20px; display: flex; align-items: center; justify-content: center;
            font-size: 36px; color: white;
        }
        .login-logo h1 { color: var(--primary); font-size: 28px; margin-bottom: 5px; }
        .login-logo p { color: var(--text-gray); font-size: 14px; }
        .login-form { display: flex; flex-direction: column; gap: 15px; }
        .login-input { position: relative; }
        .login-input i {
            position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            color: var(--text-gray);
        }
        .login-input input {
            width: 100%; padding: 15px 45px 15px 15px;
            background: var(--accent-light); border: 2px solid var(--border);
            border-radius: 10px; color: white; font-family: inherit; font-size: 15px;
        }
        .login-input input:focus { outline: none; border-color: var(--primary); }
        .login-input input::placeholder { color: var(--text-gray); }
        .login-btn {
            padding: 15px; background: var(--primary); color: var(--bg-dark);
            border: none; border-radius: 10px; font-family: inherit;
            font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.3s;
        }
        .login-btn:hover { background: var(--primary-dark); transform: translateY(-2px); }
        .login-error {
            background: rgba(231,76,60,0.2); color: var(--red);
            padding: 12px; border-radius: 8px; font-size: 14px; display: none;
        }
        .login-error.show { display: block; }

        .admin-wrapper { display: flex; min-height: 100vh; }
        .admin-wrapper.hidden { display: none; }

        .sidebar {
            width: 280px; background: var(--bg-card); border-left: 1px solid var(--border);
            position: fixed; right: 0; top: 0; bottom: 0; padding: 20px;
            overflow-y: auto; z-index: 100; transition: transform 0.3s;
        }
        .sidebar-logo { display: flex; align-items: center; gap: 12px; padding-bottom: 20px; border-bottom: 1px solid var(--border); margin-bottom: 20px; }
        .sidebar-logo .icon {
            width: 45px; height: 45px; background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px;
        }
        .sidebar-logo h2 { font-size: 18px; color: var(--primary); }
        .sidebar-logo span { font-size: 10px; color: var(--text-gray); display: block; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav li { margin-bottom: 5px; }
        .sidebar-nav a {
            display: flex; align-items: center; gap: 12px;
            padding: 12px 15px; border-radius: 10px; color: var(--text-gray);
            font-weight: 500; font-size: 14px; transition: all 0.3s; cursor: pointer;
        }
        .sidebar-nav a:hover, .sidebar-nav a.active { background: var(--primary); color: var(--bg-dark); }
        .sidebar-nav a i { width: 20px; text-align: center; }
        .sidebar-footer { position: absolute; bottom: 20px; right: 20px; left: 20px; }
        .sidebar-footer a {
            display: flex; align-items: center; justify-content: center; gap: 8px;
            padding: 12px; background: var(--accent-light); border-radius: 10px;
            color: var(--text-gray); font-size: 14px; transition: all 0.3s; cursor: pointer;
        }
        .sidebar-footer a:hover { background: var(--red); color: white; }

        .main-content { flex: 1; margin-right: 280px; padding: 25px; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; flex-wrap: wrap; gap: 15px; }
        .page-title h1 { font-size: 26px; margin-bottom: 5px; }
        .page-title p { color: var(--text-gray); font-size: 14px; }

        .btn {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 12px 24px; border-radius: 10px; font-family: inherit;
            font-size: 14px; font-weight: 600; border: none; cursor: pointer; transition: all 0.3s;
        }
        .btn-primary { background: var(--primary); color: var(--bg-dark); }
        .btn-primary:hover { background: var(--primary-dark); transform: translateY(-2px); }
        .btn-secondary { background: var(--accent-light); color: white; }
        .btn-danger { background: rgba(231,76,60,0.2); color: var(--red); }
        .btn-danger:hover { background: var(--red); color: white; }
        .btn-success { background: rgba(39,174,96,0.2); color: var(--green); }
        .btn-success:hover { background: var(--green); color: white; }

        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; }
        .stat-card {
            background: var(--bg-card); border-radius: 15px; padding: 25px;
            border: 1px solid var(--border); transition: all 0.3s;
        }
        .stat-card:hover { transform: translateY(-5px); border-color: var(--primary); }
        .stat-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; }
        .stat-icon {
            width: 50px; height: 50px; border-radius: 12px;
            display: flex; align-items: center; justify-content: center; font-size: 22px;
        }
        .stat-icon.blue { background: rgba(52,152,219,0.2); color: var(--blue); }
        .stat-icon.green { background: rgba(39,174,96,0.2); color: var(--green); }
        .stat-icon.yellow { background: rgba(201,162,39,0.2); color: var(--primary); }
        .stat-icon.red { background: rgba(231,76,60,0.2); color: var(--red); }
        .stat-value { font-size: 32px; font-weight: 700; margin-bottom: 5px; }
        .stat-label { color: var(--text-gray); font-size: 14px; }

        .card { background: var(--bg-card); border-radius: 15px; border: 1px solid var(--border); overflow: hidden; margin-bottom: 20px; }
        .card-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 18px 20px; border-bottom: 1px solid var(--border);
        }
        .card-title { font-size: 18px; display: flex; align-items: center; gap: 10px; }
        .card-title i { color: var(--primary); }
        .card-body { padding: 20px; }

        .table { width: 100%; border-collapse: collapse; }
        .table th, .table td { padding: 15px; text-align: right; border-bottom: 1px solid var(--border); }
        .table th { color: var(--text-gray); font-weight: 600; font-size: 13px; background: rgba(0,0,0,0.2); }
        .table tbody tr:hover { background: rgba(255,255,255,0.02); }
        .table-img { width: 80px; height: 50px; object-fit: cover; border-radius: 8px; }
        .table-title h4 { font-size: 14px; margin-bottom: 3px; max-width: 300px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .table-title span { font-size: 12px; color: var(--text-gray); }
        .badge { display: inline-block; padding: 5px 12px; border-radius: 20px; font-size: 11px; font-weight: 600; }
        .badge-category { background: rgba(201,162,39,0.2); color: var(--primary); }
        .badge-breaking { background: rgba(231,76,60,0.2); color: var(--red); }
        .badge-featured { background: rgba(52,152,219,0.2); color: var(--blue); }
        .actions { display: flex; gap: 8px; }
        .action-btn {
            width: 36px; height: 36px; border-radius: 8px; border: none; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            background: var(--accent-light); color: var(--text-gray); transition: all 0.3s;
        }
        .action-btn:hover { transform: scale(1.1); }
        .action-btn.edit:hover { background: var(--blue); color: white; }
        .action-btn.delete:hover { background: var(--red); color: white; }
        .action-btn.view:hover { background: var(--green); color: white; }

        .form-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 25px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; }
        .form-group label span { color: var(--red); }
        .form-control {
            width: 100%; padding: 14px; background: var(--accent-light);
            border: 2px solid var(--border); border-radius: 10px;
            color: white; font-family: inherit; font-size: 14px; transition: border-color 0.3s;
        }
        .form-control:focus { outline: none; border-color: var(--primary); }
        textarea.form-control { min-height: 120px; resize: vertical; }

        .editor-toolbar {
            display: flex; flex-wrap: wrap; gap: 5px; padding: 12px;
            background: var(--accent-light); border: 2px solid var(--border);
            border-bottom: none; border-radius: 10px 10px 0 0;
        }
        .editor-btn {
            width: 38px; height: 38px; border: none; background: transparent;
            color: var(--text-gray); border-radius: 8px; cursor: pointer;
            display: flex; align-items: center; justify-content: center; transition: all 0.3s;
        }
        .editor-btn:hover { background: var(--primary); color: var(--bg-dark); }
        .editor-content {
            min-height: 300px; padding: 20px; background: var(--accent-light);
            border: 2px solid var(--border); border-top: none;
            border-radius: 0 0 10px 10px; color: white; line-height: 1.8;
        }
        .editor-content:focus { outline: none; }
        .editor-content img { max-width: 50%; height: auto; border-radius: 8px; margin: 10px 0; }

        .image-preview {
            width: 100%; height: 180px; background: var(--accent-light);
            border: 2px dashed var(--border); border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden; margin-bottom: 12px;
        }
        .image-preview img { width: 100%; height: 100%; object-fit: cover; }
        .image-preview i { font-size: 50px; color: var(--text-gray); }

        .toggle-group {
            display: flex; align-items: center; justify-content: space-between;
            padding: 15px; background: var(--accent-light); border-radius: 10px; margin-bottom: 12px;
        }
        .toggle-switch { position: relative; width: 50px; height: 26px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider {
            position: absolute; inset: 0; background: var(--border);
            border-radius: 26px; cursor: pointer; transition: 0.3s;
        }
        .toggle-slider:before {
            content: ''; position: absolute; width: 20px; height: 20px;
            right: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s;
        }
        .toggle-switch input:checked + .toggle-slider { background: var(--primary); }
        .toggle-switch input:checked + .toggle-slider:before { transform: translateX(-24px); }

        .filter-bar { display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; }
        .search-input { flex: 1; min-width: 250px; position: relative; }
        .search-input input {
            width: 100%; padding: 12px 15px 12px 45px;
            background: var(--accent-light); border: 2px solid var(--border);
            border-radius: 10px; color: white; font-family: inherit; font-size: 14px;
        }
        .search-input input:focus { outline: none; border-color: var(--primary); }
        .search-input i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--text-gray); }

        .toast-container { position: fixed; bottom: 25px; left: 25px; z-index: 9999; }
        .toast {
            display: flex; align-items: center; gap: 12px;
            padding: 15px 25px; background: var(--bg-card);
            border-radius: 10px; margin-top: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .toast.success { border-right: 4px solid var(--green); }
        .toast.error { border-right: 4px solid var(--red); }

        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .category-item, .match-item-edit, .currency-item-edit {
            display: flex; align-items: center; gap: 15px;
            padding: 15px; background: var(--accent-light); border-radius: 10px; margin-bottom: 10px;
        }
        .category-item input, .match-item-edit input, .currency-item-edit input {
            flex: 1; padding: 10px; background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 8px; color: white; font-family: inherit;
        }
        .drag-handle { cursor: grab; color: var(--text-gray); }
        .drag-handle:active { cursor: grabbing; }

        .page-editor { margin-bottom: 20px; }
        .page-editor-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px; background: var(--accent-light); border-radius: 10px 10px 0 0;
        }
        .page-editor-content {
            min-height: 400px; padding: 20px;
            background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 0 0 10px 10px;
        }

        .mobile-menu-btn {
            display: none; position: fixed; top: 15px; right: 15px; z-index: 200;
            width: 50px; height: 50px; background: var(--primary);
            border: none; border-radius: 12px; color: var(--bg-dark); font-size: 20px; cursor: pointer;
        }
        
        .sortable-ghost { opacity: 0.4; background: var(--primary); }
        
        @media (max-width: 1200px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } .form-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) {
            .mobile-menu-btn { display: flex; align-items: center; justify-content: center; }
            .sidebar { transform: translateX(100%); }
            .sidebar.open { transform: translateX(0); }
            .main-content { margin-right: 0; padding: 80px 15px 25px; }
            .stats-grid { grid-template-columns: 1fr; }
            .page-header { flex-direction: column; text-align: center; }
            .filter-bar { flex-direction: column; }
            .table { font-size: 12px; }
            .table-img { width: 60px; height: 40px; }
        }
    </style>
</head>
<body>
    <div class="toast-container" id="toastContainer"></div>

    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-box">
            <div class="login-logo">
                <div class="icon"><i class="fas fa-eye"></i></div>
                <h1>Ø­ÙˆØ±Ø³ Ù†ÙŠÙˆØ²</h1>
                <p>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
            </div>
            <form class="login-form" onsubmit="handleLogin(event)">
                <div class="login-error" id="loginError">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
                <div class="login-input">
                    <i class="fas fa-user"></i>
                    <input type="text" id="loginUsername" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required>
                </div>
                <div class="login-input">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                <button type="submit" class="login-btn"><i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-wrapper hidden" id="adminWrapper">
        <button class="mobile-menu-btn" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>

        <aside class="sidebar" id="sidebar">
            <div class="sidebar-logo">
                <div class="icon"><i class="fas fa-eye"></i></div>
                <div>
                    <h2>Ø­ÙˆØ±Ø³ Ù†ÙŠÙˆØ²</h2>
                    <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
                </div>
            </div>
            <ul class="sidebar-nav">
                <li><a class="active" onclick="showTab('dashboard')"><i class="fas fa-tachometer-alt"></i> Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©</a></li>
                <li><a onclick="showTab('articles')"><i class="fas fa-newspaper"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a></li>
                <li><a onclick="showTab('add-article')"><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±</a></li>
                <li><a onclick="showTab('categories')"><i class="fas fa-folder"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</a></li>

                <li><a onclick="showTab('videos')"><i class="fas fa-video"></i> Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</a></li>
                <li><a onclick="showTab('matches')"><i class="fas fa-futbol"></i> Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</a></li>
                <li><a onclick="showTab('currency')"><i class="fas fa-coins"></i> Ø§Ù„Ø¹Ù…Ù„Ø§Øª</a></li>
                <li><a onclick="showTab('editors')"><i class="fas fa-user-edit"></i> Ø§Ù„Ù…Ø­Ø±Ø±ÙŠÙ†</a></li>
                <li><a onclick="showTab('pages')"><i class="fas fa-file-alt"></i> Ø§Ù„ØµÙØ­Ø§Øª</a></li>
                <li><a onclick="showTab('social')"><i class="fas fa-share-alt"></i> Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</a></li>
                <li><a onclick="showTab('subscribers')"><i class="fas fa-users"></i> Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†</a></li>
                <li><a onclick="showTab('polls')"><i class="fas fa-poll"></i> Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡Ø§Øª</a></li>
                <li><a onclick="showTab('settings')"><i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
            </ul>
            <div class="sidebar-footer">
                <a onclick="handleLogout()"><i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
            </div>
        </aside>

        <main class="main-content">
            <!-- Dashboard -->
            <div id="dashboardTab" class="tab-content active">
                <div class="page-header">
                    <div class="page-title">
                        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ğŸ‘‹</h1>
                        <p>Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¥Ø®Ø¨Ø§Ø±ÙŠ</p>
                    </div>
                    <button class="btn btn-primary" onclick="showTab('add-article')"><i class="fas fa-plus"></i> Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div><div class="stat-value" id="totalNews">0</div><div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</div></div>
                            <div class="stat-icon blue"><i class="fas fa-newspaper"></i></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div><div class="stat-value" id="totalViews">0</div><div class="stat-label">Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div></div>
                            <div class="stat-icon green"><i class="fas fa-eye"></i></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div><div class="stat-value" id="totalSubs">0</div><div class="stat-label">Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†</div></div>
                            <div class="stat-icon yellow"><i class="fas fa-users"></i></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div><div class="stat-value" id="totalBreaking">0</div><div class="stat-label">Ø£Ø®Ø¨Ø§Ø± Ø¹Ø§Ø¬Ù„Ø©</div></div>
                            <div class="stat-icon red"><i class="fas fa-bolt"></i></div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-clock"></i> Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø¶Ø§ÙØ©</h3>
                        <a onclick="showTab('articles')" style="color: var(--primary); cursor: pointer; font-size: 14px;">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</a>
                    </div>
                    <table class="table">
                        <thead><tr><th>Ø§Ù„Ø®Ø¨Ø±</th><th>Ø§Ù„ØªØµÙ†ÙŠÙ</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</th></tr></thead>
                        <tbody id="recentTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Articles -->
            <div id="articlesTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h1><p>Ø¹Ø±Ø¶ ÙˆØªØ¹Ø¯ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</p></div>
                    <button class="btn btn-primary" onclick="showTab('add-article')"><i class="fas fa-plus"></i> Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="filter-bar">
                    <div class="search-input">
                        <input type="text" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±..." id="searchNews" oninput="filterArticles()">
                        <i class="fas fa-search"></i>
                    </div>
                    <select class="form-control" style="width: 200px;" id="filterCat" onchange="filterArticles()">
                        <option value="">ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</option>
                    </select>
                </div>
                <div class="card">
                    <table class="table">
                        <thead><tr><th>Ø§Ù„ØµÙˆØ±Ø©</th><th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th><th>Ø§Ù„ØªØµÙ†ÙŠÙ</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>
                        <tbody id="articlesTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Add/Edit Article -->
            <div id="add-articleTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1 id="formTitle">Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</h1><p id="formSubtitle">Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯ ÙˆÙ†Ø´Ø±Ù‡</p></div>
                </div>
                <div class="form-grid">
                    <div>
                        <div class="card">
                            <div class="card-body">
                                <div class="form-group">
                                    <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø± <span>*</span></label>
                                    <input type="text" class="form-control" id="newsTitle" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø±...">
                                </div>
                                <div class="form-group">
                                    <label>Ù…Ù„Ø®Øµ Ø§Ù„Ø®Ø¨Ø±</label>
                                    <textarea class="form-control" id="newsSummary" placeholder="Ù…Ù„Ø®Øµ Ù‚ØµÙŠØ± ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©..."></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø®Ø¨Ø± <span>*</span></label>
                                    <div class="editor-toolbar">
                                        <button type="button" class="editor-btn" onclick="format('bold')" title="Ø¹Ø±ÙŠØ¶"><i class="fas fa-bold"></i></button>
                                        <button type="button" class="editor-btn" onclick="format('italic')" title="Ù…Ø§Ø¦Ù„"><i class="fas fa-italic"></i></button>
                                        <button type="button" class="editor-btn" onclick="format('underline')" title="ØªØ³Ø·ÙŠØ±"><i class="fas fa-underline"></i></button>
                                        <button type="button" class="editor-btn" onclick="format('insertUnorderedList')" title="Ù‚Ø§Ø¦Ù…Ø©"><i class="fas fa-list-ul"></i></button>
                                        <button type="button" class="editor-btn" onclick="format('insertOrderedList')" title="Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ù‚Ù…Ø©"><i class="fas fa-list-ol"></i></button>
                                        <button type="button" class="editor-btn" onclick="insertLink()" title="Ø±Ø§Ø¨Ø·"><i class="fas fa-link"></i></button>
                                        <button type="button" class="editor-btn" onclick="insertImage()" title="ØµÙˆØ±Ø©"><i class="fas fa-image"></i></button>
                                        <button type="button" class="editor-btn" onclick="insertVideo()" title="ÙÙŠØ¯ÙŠÙˆ"><i class="fas fa-video"></i></button>
                                    </div>
                                    <div class="editor-content" id="newsContent" contenteditable="true"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="card">
                            <div class="card-header"><h3 class="card-title"><i class="fas fa-cog"></i> Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù†Ø´Ø±</h3></div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label>Ø§Ù„ØªØµÙ†ÙŠÙ</label>
                                    <select class="form-control" id="newsCategory"></select>
                                </div>
                                <div class="form-group">
                                    <label>Ø§Ù„ÙƒØ§ØªØ¨</label>
                                    <input type="text" class="form-control" id="newsAuthor" value="ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±">
                                </div>
                                <div class="toggle-group"><span>Ø®Ø¨Ø± Ø¹Ø§Ø¬Ù„</span><label class="toggle-switch"><input type="checkbox" id="isBreaking"><span class="toggle-slider"></span></label></div>
                                <div class="toggle-group"><span>Ø®Ø¨Ø± Ù…Ù…ÙŠØ² (Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ)</span><label class="toggle-switch"><input type="checkbox" id="isFeatured"><span class="toggle-slider"></span></label></div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h3 class="card-title"><i class="fas fa-image"></i> ØµÙˆØ±Ø© Ø§Ù„Ø®Ø¨Ø±</h3></div>
                            <div class="card-body">
                                <div class="image-preview" id="imagePreview"><i class="fas fa-image"></i></div>
                                <div style="display:flex;gap:10px;margin-bottom:10px;">
                                    <button type="button" class="btn btn-primary" style="flex:1;" onclick="document.getElementById('imageUpload').click()"><i class="fas fa-upload"></i> Ø±ÙØ¹ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</button>
                                    <input type="file" id="imageUpload" accept="image/*" style="display:none;" onchange="uploadImage(event)">
                                </div>
                                <p style="text-align:center;color:var(--text-gray);font-size:12px;margin:10px 0;">Ø£Ùˆ</p>
                                <input type="url" class="form-control" id="newsImage" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª..." oninput="previewImg(this.value)">
                            </div>
                        </div>
                        <input type="hidden" id="editingId">
                        <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="saveNews()"><i class="fas fa-paper-plane"></i> <span id="saveBtnText">Ù†Ø´Ø± Ø§Ù„Ø®Ø¨Ø±</span></button>
                        <button class="btn btn-secondary" style="width: 100%;" onclick="resetForm()"><i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡</button>
                    </div>
                </div>
            </div>

            <!-- Categories -->
            <div id="categoriesTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h1><p>ØªØ¹Ø¯ÙŠÙ„ ÙˆØªØ±ØªÙŠØ¨ Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹</p></div>
                    <button class="btn btn-primary" onclick="addNewCategory()"><i class="fas fa-plus"></i> Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-folder"></i> Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3></div>
                    <div class="card-body">
                        <p style="color: var(--text-gray); margin-bottom: 15px; font-size: 13px;"><i class="fas fa-info-circle"></i> Ø§Ø³Ø­Ø¨ Ø§Ù„Ù‚Ø³Ù… Ù„ØªØºÙŠÙŠØ± ØªØ±ØªÙŠØ¨Ù‡ ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</p>
                        <div id="categoriesList"></div>
                        <button class="btn btn-success" style="margin-top: 15px;" onclick="saveCategories()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                    </div>
                </div>
            </div>

            <!-- Matches -->
            <div id="matchesTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</h1><p>Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…</p></div>
                    <button class="btn btn-primary" onclick="addNewMatch()"><i class="fas fa-plus"></i> Ù…Ø¨Ø§Ø±Ø§Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-futbol"></i> Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…</h3></div>
                    <div class="card-body" id="matchesList"></div>
                    <div class="card-body" style="border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveMatches()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</button>
                    </div>
                </div>
            </div>

            <!-- Currency -->
            <div id="currencyTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª</h1><p>ØªØ­Ø¯ÙŠØ« Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª ÙŠØ¯ÙˆÙŠØ§Ù‹</p></div>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-coins"></i> Ø§Ù„Ø¹Ù…Ù„Ø§Øª</h3></div>
                    <div class="card-body" id="currencyList"></div>
                    <div class="card-body" style="border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveCurrency()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</button>
                    </div>
                </div>
            </div>

            <!-- Pages -->
            <div id="pagesTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙØ­Ø§Øª</h1><p>ØªØ¹Ø¯ÙŠÙ„ ØµÙØ­Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø«Ø§Ø¨ØªØ©</p></div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-file-alt"></i> Ø§Ù„ØµÙØ­Ø§Øª</h3>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>Ø§Ø®ØªØ± Ø§Ù„ØµÙØ­Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„</label>
                            <select class="form-control" id="pageSelect" onchange="loadPageContent()">
                                <option value="about">Ù…Ù† Ù†Ø­Ù†</option>
                                <option value="contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</option>
                                <option value="privacy">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©</label>
                            <input type="text" class="form-control" id="pageTitle">
                        </div>
                        <div class="form-group">
                            <label>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©</label>
                            <div class="editor-toolbar">
                                <button type="button" class="editor-btn" onclick="formatPage('bold')"><i class="fas fa-bold"></i></button>
                                <button type="button" class="editor-btn" onclick="formatPage('italic')"><i class="fas fa-italic"></i></button>
                                <button type="button" class="editor-btn" onclick="formatPage('insertUnorderedList')"><i class="fas fa-list-ul"></i></button>
                            </div>
                            <div class="editor-content" id="pageContent" contenteditable="true" style="min-height: 300px;"></div>
                        </div>
                        <button class="btn btn-success" onclick="savePage()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØµÙØ­Ø©</button>
                    </div>
                </div>
            </div>

            <!-- Social -->
            <div id="socialTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</h1><p>ØªØ­Ø¯ÙŠØ« Ø±ÙˆØ§Ø¨Ø· ØµÙØ­Ø§ØªÙƒ</p></div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <label><i class="fab fa-facebook" style="color:#1877f2;"></i> ÙÙŠØ³Ø¨ÙˆÙƒ</label>
                            <input type="url" class="form-control" id="socialFacebook" placeholder="https://facebook.com/yourpage">
                        </div>
                        <div class="form-group">
                            <label><i class="fab fa-twitter" style="color:#1da1f2;"></i> ØªÙˆÙŠØªØ±</label>
                            <input type="url" class="form-control" id="socialTwitter" placeholder="https://twitter.com/yourpage">
                        </div>
                        <div class="form-group">
                            <label><i class="fab fa-youtube" style="color:#ff0000;"></i> ÙŠÙˆØªÙŠÙˆØ¨</label>
                            <input type="url" class="form-control" id="socialYoutube" placeholder="https://youtube.com/yourchannel">
                        </div>
                        <div class="form-group">
                            <label><i class="fab fa-instagram" style="color:#e4405f;"></i> Ø§Ù†Ø³ØªØºØ±Ø§Ù…</label>
                            <input type="url" class="form-control" id="socialInstagram" placeholder="https://instagram.com/yourpage">
                        </div>
                        <div class="form-group">
                            <label><i class="fab fa-telegram" style="color:#0088cc;"></i> ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</label>
                            <input type="url" class="form-control" id="socialTelegram" placeholder="https://t.me/yourchannel">
                        </div>
                        <button class="btn btn-success" onclick="saveSocialLinks()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</button>
                    </div>
                </div>
            </div>

            <!-- Subscribers -->
            <div id="subscribersTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†</h1><p>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø¨Ø§Ù„Ù†Ø´Ø±Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠØ©</p></div>
                    <button class="btn btn-primary" onclick="exportSubscribers()"><i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± CSV</button>
                </div>
                <div class="card">
                    <table class="table">
                        <thead><tr><th>#</th><th>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th><th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>
                        <tbody id="subscribersTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Articles Section (Opinion) -->
            <div id="articles-sectionTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ</h1><p>Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ Ù…Ù† ÙƒØªØ§Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹</p></div>
                    <button class="btn btn-primary" onclick="showTab('add-article'); document.getElementById('isArticle').checked = true;"><i class="fas fa-plus"></i> Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-pen-fancy"></i> Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ</h3></div>
                    <div class="card-body">
                        <p style="color: var(--text-gray); margin-bottom: 15px; padding: 15px; background: rgba(201,162,39,0.1); border-radius: 8px;">
                            <i class="fas fa-lightbulb" style="color: var(--primary);"></i> 
                            <strong>Ù†ØµÙŠØ­Ø©:</strong> Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ù‚Ø§Ù„ Ø±Ø£ÙŠØŒ Ø£Ø¶Ù Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯ ÙˆØ§Ø®ØªØ± <strong>"Ù…Ù‚Ø§Ù„ Ø±Ø£ÙŠ"</strong> Ù…Ù† Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù†Ø´Ø±. 
                            Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…Ù‚Ø§Ù„ ÙÙŠ Ù‚Ø³Ù… "Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ" Ø¨Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ ØµÙˆØ±Ø© Ø§Ù„ÙƒØ§ØªØ¨.
                        </p>
                        <div id="articlesList"></div>
                    </div>
                </div>
            </div>

            <!-- Videos Section -->
            <div id="videosTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h1><p>Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</p></div>
                    <button class="btn btn-primary" onclick="addNewVideo()"><i class="fas fa-plus"></i> ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-video"></i> Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h3></div>
                    <div class="card-body" id="videosList"></div>
                    <div class="card-body" style="border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveVideos()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</button>
                    </div>
                </div>
            </div>

            <!-- Videos -->
            <div id="videosTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h1><p>Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</p></div>
                    <button class="btn btn-primary" onclick="addNewVideo()"><i class="fas fa-plus"></i> ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-video"></i> Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h3></div>
                    <div class="card-body" id="videosList"></div>
                    <div class="card-body" style="border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveVideos()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</button>
                    </div>
                </div>
            </div>

            <!-- Editors -->
            <div id="editorsTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø±Ø±ÙŠÙ†</h1><p>Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ø±Ø±ÙŠÙ†</p></div>
                    <button class="btn btn-primary" onclick="addNewEditor()"><i class="fas fa-plus"></i> Ù…Ø­Ø±Ø± Ø¬Ø¯ÙŠØ¯</button>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-user-edit"></i> Ø§Ù„Ù…Ø­Ø±Ø±ÙŠÙ†</h3></div>
                    <table class="table">
                        <thead><tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th><th>Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>
                        <tbody id="editorsTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Polls -->
            <div id="pollsTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡Ø§Øª</h1><p>Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø³ØªÙØªØ§Ø¡Ø§Øª Ø§Ù„Ø±Ø£ÙŠ Ù„Ù„Ù‚Ø±Ø§Ø¡</p></div>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-poll"></i> Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡ Ø§Ù„Ø­Ø§Ù„ÙŠ</h3></div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>Ø§Ù„Ø³Ø¤Ø§Ù„ <span>*</span></label>
                            <input type="text" class="form-control" id="pollQuestion" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡...">
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„ <span>*</span></label>
                            <input type="text" class="form-control" id="pollOption1" placeholder="Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„...">
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ <span>*</span></label>
                            <input type="text" class="form-control" id="pollOption2" placeholder="Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ...">
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø« <span>*</span></label>
                            <input type="text" class="form-control" id="pollOption3" placeholder="Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«...">
                        </div>
                        <div style="display:flex;gap:10px;">
                            <button class="btn btn-success" onclick="savePoll()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡</button>
                            <button class="btn btn-secondary" onclick="resetPollVotes()"><i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£ØµÙˆØ§Øª</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header"><h3 class="card-title"><i class="fas fa-chart-bar"></i> Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡</h3></div>
                    <div class="card-body" id="pollResults"></div>
                </div>
            </div>

            <!-- Settings -->
            <div id="settingsTab" class="tab-content">
                <div class="page-header">
                    <div class="page-title"><h1>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h1><p>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ù†Ø¸Ø§Ù…</p></div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="card">
                        <div class="card-header"><h3 class="card-title"><i class="fas fa-user-tie"></i> Ø±Ø¦ÙŠØ³ Ø§Ù„ØªØ­Ø±ÙŠØ±</h3></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label>Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„ØªØ­Ø±ÙŠØ±</label>
                                <input type="text" class="form-control" id="editorInChiefInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„ØªØ­Ø±ÙŠØ±">
                            </div>
                            <button class="btn btn-primary" onclick="saveEditorInChief()"><i class="fas fa-save"></i> Ø­ÙØ¸</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><h3 class="card-title"><i class="fas fa-key"></i> ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯</label>
                                <input type="text" class="form-control" id="newUsername" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                            </div>
                            <div class="form-group">
                                <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                                <input type="password" class="form-control" id="newPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                            </div>
                            <button class="btn btn-primary" onclick="changeCredentials()"><i class="fas fa-save"></i> Ø­ÙØ¸</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><h3 class="card-title"><i class="fas fa-database"></i> Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ</h3></div>
                        <div class="card-body">
                            <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="exportData()"><i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                            <button class="btn btn-secondary" style="width: 100%;" onclick="document.getElementById('importFile').click()"><i class="fas fa-upload"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                            <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><h3 class="card-title" style="color: var(--red);"><i class="fas fa-exclamation-triangle"></i> Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø·Ø±</h3></div>
                        <div class="card-body">
                            <p style="color: var(--text-gray); margin-bottom: 15px; font-size: 13px;">Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ (Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹)</p>
                            <button class="btn btn-danger" style="width: 100%;" onclick="clearAllData()"><i class="fas fa-trash"></i> Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ==================== Supabase Configuration ====================
        const SUPABASE_URL = 'https://qtmdbrvrjdcxkmserlto.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0bWRicnZyamRjeGttc2VybHRvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNTYzNTgsImV4cCI6MjA4MzgzMjM1OH0.AMsYTEy5Bo_9bcz1YDmeav1Q9qQGLxZBD26KSheAn78';
        
        let supabaseClient = null;
        
        async function initSupabase() {
            try {
                const { createClient } = window.supabase;
                supabaseClient = createClient(SUPABASE_URL, SUPABASE_KEY);
                console.log('Supabase Admin Connected');
            } catch (error) {
                console.error('âŒ Supabase Error:', error);
            }
        }
        
        // Fetch all news from Supabase
        async function fetchNewsFromSupabase() {
            if (!supabaseClient) await initSupabase();
            
            try {
                const { data, error } = await supabaseClient
                    .from('news')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                if (data && data.length > 0) {
                    newsDatabase = data.map(item => ({
                        id: item.id,
                        title: item.title,
                        category: item.category,
                        image: item.image_url,
                        summary: item.summary,
                        content: item.content,
                        date: item.created_at,
                        views: item.views || 0,
                        isBreaking: item.is_breaking || false,
                        isFeatured: item.is_featured || false,
                        isPublished: item.is_published || true,
                        author: item.author || 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±'
                    }));
                    console.log('Fetched ' + newsDatabase.length + ' news from Supabase');
                }
            } catch (error) {
                console.error('âŒ Error fetching news:', error);
            }
        }
        
        // Add news to Supabase
        async function addNewsToSupabase(newsData) {
            if (!supabaseClient) await initSupabase();
            
            try {
                const { data, error } = await supabaseClient
                    .from('news')
                    .insert([{
                        title: newsData.title,
                        summary: newsData.summary,
                        content: newsData.content,
                        category: newsData.category,
                        image_url: newsData.image,
                        author: newsData.author || 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±',
                        is_breaking: newsData.isBreaking || false,
                        is_featured: newsData.isFeatured || false,
                        is_published: newsData.isPublished !== false,
                        views: 0
                    }])
                    .select()
                    .single();
                
                if (error) throw error;
                
                console.log('News added to Supabase:', data);
                return { success: true, data };
            } catch (error) {
                console.error('âŒ Error adding news:', error);
                return { success: false, error: error.message };
            }
        }
        
        // Update news in Supabase
        async function updateNewsInSupabase(id, newsData) {
            if (!supabaseClient) await initSupabase();
            
            try {
                const { data, error } = await supabaseClient
                    .from('news')
                    .update({
                        title: newsData.title,
                        summary: newsData.summary,
                        content: newsData.content,
                        category: newsData.category,
                        image_url: newsData.image,
                        author: newsData.author || 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±',
                        is_breaking: newsData.isBreaking || false,
                        is_featured: newsData.isFeatured || false,
                        is_published: newsData.isPublished !== false
                    })
                    .eq('id', id)
                    .select()
                    .single();
                
                if (error) throw error;
                
                console.log('News updated in Supabase:', data);
                return { success: true, data };
            } catch (error) {
                console.error('âŒ Error updating news:', error);
                return { success: false, error: error.message };
            }
        }
        
        // Delete news from Supabase
        async function deleteNewsFromSupabase(id) {
            if (!supabaseClient) await initSupabase();
            
            try {
                const { error } = await supabaseClient
                    .from('news')
                    .delete()
                    .eq('id', id);
                
                if (error) throw error;
                
                console.log('News deleted from Supabase');
                return { success: true };
            } catch (error) {
                console.error('âŒ Error deleting news:', error);
                return { success: false, error: error.message };
            }
        }

        // ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© ====================
        const DEFAULT_CREDENTIALS = { username: 'admin', password: 'admin123' };
        let credentials = JSON.parse(localStorage.getItem('adminCredentials')) || DEFAULT_CREDENTIALS;
        let newsDatabase = JSON.parse(localStorage.getItem('newsDatabase')) || [];
        let subscribers = JSON.parse(localStorage.getItem('subscribers')) || [];
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ ØªØµÙ†ÙŠÙ Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ
        let categoriesData = JSON.parse(localStorage.getItem('categoriesData')) || [];
        
        // Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        const defaultCategories = [
            { id: 'politics', name: 'Ø³ÙŠØ§Ø³Ø©', icon: 'fa-landmark', order: 1 },
            { id: 'economy', name: 'Ø§Ù‚ØªØµØ§Ø¯', icon: 'fa-chart-line', order: 2 },
            { id: 'sports', name: 'Ø±ÙŠØ§Ø¶Ø©', icon: 'fa-futbol', order: 3 },
            { id: 'tech', name: 'ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§', icon: 'fa-microchip', order: 4 },
            { id: 'culture', name: 'Ø«Ù‚Ø§ÙØ© ÙˆÙÙ†', icon: 'fa-palette', order: 5 },
            { id: 'health', name: 'ØµØ­Ø©', icon: 'fa-heartbeat', order: 6 },
            { id: 'world', name: 'Ø¹Ø§Ù„Ù…ÙŠ', icon: 'fa-globe', order: 7 },
            { id: 'opinion', name: 'Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ', icon: 'fa-pen-fancy', order: 8 }
        ];
        
        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙØ§Ø±ØºØ©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        if (categoriesData.length === 0) {
            categoriesData = defaultCategories;
            localStorage.setItem('categoriesData', JSON.stringify(categoriesData));
        }
        
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ ØªØµÙ†ÙŠÙ Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ
        if (!categoriesData.find(c => c.id === 'opinion')) {
            categoriesData.push({ id: 'opinion', name: 'Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ', icon: 'fa-pen-fancy', order: categoriesData.length + 1 });
            localStorage.setItem('categoriesData', JSON.stringify(categoriesData));
        }
        let matchesData = JSON.parse(localStorage.getItem('matchesData')) || [
            { id: 1, team1: 'Ø§Ù„Ø£Ù‡Ù„ÙŠ', team2: 'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ', score1: '2', score2: '1', time: "90'", live: true },
            { id: 2, team1: 'Ù„ÙŠÙØ±Ø¨ÙˆÙ„', team2: 'Ù…Ø§Ù† Ø³ÙŠØªÙŠ', score1: '0', score2: '0', time: '18:00', live: false },
            { id: 3, team1: 'Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©', team2: 'Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯', score1: '-', score2: '-', time: '21:00', live: false }
        ];
        let currencyData = JSON.parse(localStorage.getItem('currencyData')) || [
            { id: 'USD', name: 'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ', flag: 'ğŸ‡ºğŸ‡¸', rate: '49.50', trend: 'up' },
            { id: 'EUR', name: 'ÙŠÙˆØ±Ùˆ', flag: 'ğŸ‡ªğŸ‡º', rate: '53.20', trend: 'down' },
            { id: 'SAR', name: 'Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ', flag: 'ğŸ‡¸ğŸ‡¦', rate: '13.20', trend: 'up' },
            { id: 'AED', name: 'Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ', flag: 'ğŸ‡¦ğŸ‡ª', rate: '13.50', trend: 'up' },
            { id: 'GBP', name: 'Ø¬Ù†ÙŠÙ‡ Ø¥Ø³ØªØ±Ù„ÙŠÙ†ÙŠ', flag: 'ğŸ‡¬ğŸ‡§', rate: '62.80', trend: 'down' }
        ];
        let pagesData = JSON.parse(localStorage.getItem('pagesData')) || {
            about: { title: 'Ù…Ù† Ù†Ø­Ù†', content: '<p>Ø­ÙˆØ±Ø³ Ù†ÙŠÙˆØ² Ù…Ù†ØµØ© Ø¥Ø®Ø¨Ø§Ø±ÙŠØ© Ø¹Ø±Ø¨ÙŠØ© Ø±Ø§Ø¦Ø¯Ø© ØªÙ‚Ø¯Ù… Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª.</p>' },
            contact: { title: 'Ø§ØªØµÙ„ Ø¨Ù†Ø§', content: '<p>Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§: info@horusnews.com</p><p>Ù‡Ø§ØªÙ: +20 123 456 789</p>' },
            privacy: { title: 'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©', content: '<p>Ù†Ø­Ù† Ù†Ø­ØªØ±Ù… Ø®ØµÙˆØµÙŠØªÙƒ ÙˆÙ†Ù„ØªØ²Ù… Ø¨Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©.</p>' }
        };
        let socialLinks = JSON.parse(localStorage.getItem('socialLinks')) || {
            facebook: 'https://facebook.com', twitter: 'https://x.com',
            youtube: 'https://youtube.com', instagram: 'https://instagram.com', telegram: 'https://t.me'
        };
        let videosData = JSON.parse(localStorage.getItem('videosData')) || [
            { id: 1, title: 'ØªÙ‚Ø±ÙŠØ± Ø®Ø§Øµ: Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…ØªØ¬Ø¯Ø¯Ø©', url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ', image: 'https://images.unsplash.com/photo-1466611653911-95081537e5b7?w=400', duration: '12:45' },
            { id: 2, title: 'Ù„Ù‚Ø§Ø¡ Ø­ØµØ±ÙŠ Ù…Ø¹ Ø®Ø¨Ø±Ø§Ø¡ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯', url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ', image: 'https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=400', duration: '18:30' },
            { id: 3, title: 'Ø£Ø¨Ø±Ø² Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©', url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ', image: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=400', duration: '08:15' },
            { id: 4, title: 'ÙˆØ«Ø§Ø¦Ù‚ÙŠ: Ø±Ø­Ù„Ø© Ø¥Ù„Ù‰ Ø£Ø¹Ù…Ø§Ù‚ Ø§Ù„Ø¨Ø­Ø±', url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ', image: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400', duration: '25:00' }
        ];
        let editorsData = JSON.parse(localStorage.getItem('editorsData')) || [];

        // ==================== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ====================
        function checkLogin() {
            const isLoggedIn = sessionStorage.getItem('adminLoggedIn');
            if (isLoggedIn === 'true') {
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('adminWrapper').classList.remove('hidden');
                initAdmin();
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            if (username === credentials.username && password === credentials.password) {
                sessionStorage.setItem('adminLoggedIn', 'true');
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('adminWrapper').classList.remove('hidden');
                showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­');
                initAdmin();
            } else {
                document.getElementById('loginError').classList.add('show');
                setTimeout(() => document.getElementById('loginError').classList.remove('show'), 3000);
            }
        }

        function handleLogout() {
            sessionStorage.removeItem('adminLoggedIn');
            location.reload();
        }

        function changeCredentials() {
            const newUser = document.getElementById('newUsername').value.trim();
            const newPass = document.getElementById('newPassword').value.trim();
            if (newUser && newPass) {
                credentials = { username: newUser, password: newPass };
                localStorage.setItem('adminCredentials', JSON.stringify(credentials));
                showToast('ØªÙ… ØªØºÙŠÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­');
                document.getElementById('newUsername').value = '';
                document.getElementById('newPassword').value = '';
            } else {
                showToast('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
            }
        }

        // Ø­ÙØ¸ Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„ØªØ­Ø±ÙŠØ±
        function saveEditorInChief() {
            const name = document.getElementById('editorInChiefInput').value.trim();
            if (name) {
                localStorage.setItem('editorInChiefName', name);
                showToast('ØªÙ… Ø­ÙØ¸ Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„ØªØ­Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„ØªØ­Ø±ÙŠØ±', 'error');
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ø³Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„ØªØ­Ø±ÙŠØ± Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function loadEditorInChiefSetting() {
            const name = localStorage.getItem('editorInChiefName') || 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ';
            document.getElementById('editorInChiefInput').value = name;
        }

        // ==================== Ø§Ù„Ø£Ø¯ÙˆØ§Øª ====================
        function formatDate(d) {
            const date = new Date(d);
            const diff = Date.now() - date.getTime();
            const mins = Math.floor(diff / 60000);
            const hours = Math.floor(diff / 3600000);
            const days = Math.floor(diff / 86400000);
            if (mins < 1) return 'Ø§Ù„Ø¢Ù†';
            if (mins < 60) return `Ù…Ù†Ø° ${mins} Ø¯Ù‚ÙŠÙ‚Ø©`;
            if (hours < 24) return `Ù…Ù†Ø° ${hours} Ø³Ø§Ø¹Ø©`;
            if (days < 7) return `Ù…Ù†Ø° ${days} ÙŠÙˆÙ…`;
            return date.toLocaleDateString('ar-EG');
        }

        function formatNumber(n) {
            if (n >= 1000000) return (n / 1000000).toFixed(1) + 'M';
            if (n >= 1000) return (n / 1000).toFixed(1) + 'K';
            return n.toString();
        }

        function showToast(msg, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i> ${msg}`;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function saveAllData() {
            localStorage.setItem('newsDatabase', JSON.stringify(newsDatabase));
            localStorage.setItem('subscribers', JSON.stringify(subscribers));
            localStorage.setItem('categoriesData', JSON.stringify(categoriesData));
            localStorage.setItem('matchesData', JSON.stringify(matchesData));
            localStorage.setItem('currencyData', JSON.stringify(currencyData));
            localStorage.setItem('pagesData', JSON.stringify(pagesData));
            localStorage.setItem('socialLinks', JSON.stringify(socialLinks));
        }

        function getCategoryName(id) {
            const cat = categoriesData.find(c => c.id === id);
            return cat ? cat.name : id;
        }

        // ==================== Ø§Ù„ØªÙ†Ù‚Ù„ ====================
        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.sidebar-nav a').forEach(a => a.classList.remove('active'));
            document.getElementById(tab + 'Tab').classList.add('active');
            event.target.classList.add('active');
            document.getElementById('sidebar').classList.remove('open');
            
            if (tab === 'dashboard') renderDashboard();
            else if (tab === 'articles') renderArticles();
            else if (tab === 'add-article') resetForm();
            else if (tab === 'categories') renderCategories();
            else if (tab === 'articles-section') renderArticlesSection();
            else if (tab === 'videos') renderVideos();
            else if (tab === 'matches') renderMatches();
            else if (tab === 'currency') renderCurrency();
            else if (tab === 'editors') renderEditors();
            else if (tab === 'pages') loadPageContent();
            else if (tab === 'social') loadSocialLinks();
            else if (tab === 'subscribers') renderSubscribers();
            else if (tab === 'articles-section') renderArticlesSection();
            else if (tab === 'videos') renderVideos();
        }

        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }

        // ==================== Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ====================
        function initAdmin() {
            renderDashboard();
            populateCategoryDropdowns();
        }

        function renderDashboard() {
            document.getElementById('totalNews').textContent = newsDatabase.length;
            document.getElementById('totalViews').textContent = formatNumber(newsDatabase.reduce((a, n) => a + (n.views || 0), 0));
            document.getElementById('totalSubs').textContent = subscribers.length;
            document.getElementById('totalBreaking').textContent = newsDatabase.filter(n => n.isBreaking).length;
            
            document.getElementById('recentTable').innerHTML = newsDatabase.slice(0, 5).map(n => `
                <tr>
                    <td class="table-title"><h4>${n.title}</h4><span>${n.author || 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±'}</span></td>
                    <td><span class="badge badge-category">${getCategoryName(n.category)}</span></td>
                    <td>${formatDate(n.date)}</td>
                    <td>${formatNumber(n.views || 0)}</td>
                </tr>
            `).join('') || '<tr><td colspan="4" style="text-align:center;color:var(--text-gray);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø¨Ø§Ø±</td></tr>';
        }

        function populateCategoryDropdowns() {
            const options = categoriesData.map(c => `<option value="${c.id}">${c.name}</option>`).join('');
            document.getElementById('newsCategory').innerHTML = options;
            document.getElementById('filterCat').innerHTML = '<option value="">ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</option>' + options;
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ====================
        function renderArticles() {
            const search = document.getElementById('searchNews')?.value?.toLowerCase() || '';
            const cat = document.getElementById('filterCat')?.value || '';
            let filtered = newsDatabase;
            if (search) filtered = filtered.filter(n => n.title.toLowerCase().includes(search));
            if (cat) filtered = filtered.filter(n => n.category === cat);
            
            document.getElementById('articlesTable').innerHTML = filtered.map(n => `
                <tr>
                    <td><img src="${n.image}" class="table-img" onerror="this.src='https://via.placeholder.com/80x50'"></td>
                    <td class="table-title"><h4>${n.title}</h4><span>${n.author || 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±'}</span></td>
                    <td><span class="badge badge-category">${getCategoryName(n.category)}</span></td>
                    <td>${formatDate(n.date)}</td>
                    <td>${formatNumber(n.views || 0)}</td>
                    <td>
                        ${n.isBreaking ? '<span class="badge badge-breaking">Ø¹Ø§Ø¬Ù„</span> ' : ''}
                        ${n.isFeatured ? '<span class="badge badge-featured">Ù…Ù…ÙŠØ²</span>' : ''}
                    </td>
                    <td>
                        <div class="actions">
                            <button class="action-btn edit" onclick="editNews(${n.id})" title="ØªØ¹Ø¯ÙŠÙ„"><i class="fas fa-edit"></i></button>
                            <button class="action-btn delete" onclick="deleteNews(${n.id})" title="Ø­Ø°Ù"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                </tr>
            `).join('') || '<tr><td colspan="7" style="text-align:center;color:var(--text-gray);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø¨Ø§Ø±</td></tr>';
        }

        function filterArticles() { renderArticles(); }

        function resetForm() {
            document.getElementById('formTitle').textContent = 'Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯';
            document.getElementById('formSubtitle').textContent = 'Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯ ÙˆÙ†Ø´Ø±Ù‡';
            document.getElementById('saveBtnText').textContent = 'Ù†Ø´Ø± Ø§Ù„Ø®Ø¨Ø±';
            document.getElementById('editingId').value = '';
            document.getElementById('newsTitle').value = '';
            document.getElementById('newsSummary').value = '';
            document.getElementById('newsContent').innerHTML = '';
            document.getElementById('newsCategory').value = categoriesData[0]?.id || 'politics';
            document.getElementById('newsAuthor').value = 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±';
            document.getElementById('newsImage').value = '';
            document.getElementById('isBreaking').checked = false;
            document.getElementById('isFeatured').checked = false;
            document.getElementById('imagePreview').innerHTML = '<i class="fas fa-image"></i>';
        }

        function editNews(id) {
            const news = newsDatabase.find(n => n.id === id);
            if (!news) {
                showToast('Ø§Ù„Ø®Ø¨Ø± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            document.getElementById('formTitle').textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø¨Ø±';
            document.getElementById('formSubtitle').textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯';
            document.getElementById('saveBtnText').textContent = 'Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª';
            document.getElementById('editingId').value = id.toString();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            setTimeout(() => {
                document.getElementById('newsTitle').value = news.title || '';
                document.getElementById('newsSummary').value = news.summary || '';
                document.getElementById('newsContent').innerHTML = news.content || '<p>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø®Ø¨Ø±...</p>';
                document.getElementById('newsCategory').value = news.category || categoriesData[0]?.id;
                document.getElementById('newsAuthor').value = news.author || 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±';
                document.getElementById('newsImage').value = news.image || '';
                document.getElementById('isBreaking').checked = news.isBreaking || false;
                document.getElementById('isFeatured').checked = news.isFeatured || false;
                document.getElementById('isArticle').checked = news.isArticle || false;
                
                // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©
                if (news.image) {
                    document.getElementById('imagePreview').innerHTML = `<img src="${news.image}" onerror="this.parentElement.innerHTML='<i class=\\'fas fa-image\\'></i>'">`;
                } else {
                    document.getElementById('imagePreview').innerHTML = '<i class="fas fa-image"></i>';
                }
            }, 100);
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ ØªØ§Ø¨ Ø§Ù„Ø¥Ø¶Ø§ÙØ©/Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById('add-articleTab').classList.add('active');
            document.getElementById('sidebar').classList.remove('open');
        }

        function saveNews() {
            const title = document.getElementById('newsTitle').value.trim();
            const content = document.getElementById('newsContent').innerHTML.trim();
            if (!title) { showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø±', 'error'); return; }
            
            const editingId = document.getElementById('editingId').value;
            const newsData = {
                id: editingId ? parseInt(editingId) : Date.now(),
                title,
                summary: document.getElementById('newsSummary').value.trim(),
                content,
                category: document.getElementById('newsCategory').value,
                author: document.getElementById('newsAuthor').value.trim() || 'ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±',
                image: document.getElementById('newsImage').value.trim() || 'https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800',
                isBreaking: document.getElementById('isBreaking').checked,
                isFeatured: document.getElementById('isFeatured').checked,
                isPublished: true,
                isArticle: document.getElementById('newsCategory').value === 'opinion',
                date: editingId ? newsDatabase.find(n => n.id === parseInt(editingId))?.date : new Date().toISOString(),
                views: editingId ? newsDatabase.find(n => n.id === parseInt(editingId))?.views || 0 : 0
            };
            
            if (editingId) {
                const idx = newsDatabase.findIndex(n => n.id === parseInt(editingId));
                if (idx !== -1) {
                    newsDatabase[idx] = newsData;
                    // ØªØ­Ø¯ÙŠØ« ÙÙŠ Supabase
                    updateNewsInSupabase(parseInt(editingId), newsData);
                }
                showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ø¨Ø± Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                newsDatabase.unshift(newsData);
                // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Supabase
                addNewsToSupabase(newsData);
                showToast('ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø®Ø¨Ø± Ø¨Ù†Ø¬Ø§Ø­');
            }
            
            saveAllData();
            resetForm();
            showTab('articles');
        }

        function deleteNews(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø®Ø¨Ø±ØŸ')) {
                newsDatabase = newsDatabase.filter(n => n.id !== id);
                // Ø­Ø°Ù Ù…Ù† Supabase
                deleteNewsFromSupabase(id);
                saveAllData();
                showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø®Ø¨Ø±');
                renderArticles();
            }
        }

        function previewImg(url) {
            const preview = document.getElementById('imagePreview');
            if (url) preview.innerHTML = `<img src="${url}" onerror="this.parentElement.innerHTML='<i class=\\'fas fa-exclamation-triangle\\' style=\\'color:var(--red)\\'></i>'">`;
            else preview.innerHTML = '<i class="fas fa-image"></i>';
        }

        function format(cmd) { document.execCommand(cmd, false, null); }
        function insertLink() { const url = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·:'); if (url) document.execCommand('createLink', false, url); }
        function insertImage() { const url = prompt('Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©:'); if (url) document.execCommand('insertHTML', false, `<img src="${url}" style="max-width:50%;border-radius:8px;margin:10px 0;">`); }
        function insertVideo() { const url = prompt('Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨:'); if (url) { const id = url.match(/(?:v=|\/embed\/|\/v\/|youtu\.be\/)([a-zA-Z0-9_-]{11})/)?.[1]; if (id) document.execCommand('insertHTML', false, `<iframe width="560" height="315" src="https://www.youtube.com/embed/${id}" frameborder="0" allowfullscreen style="max-width:100%;border-radius:8px;margin:10px 0;"></iframe>`); } }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ====================
        function renderCategories() {
            document.getElementById('categoriesList').innerHTML = categoriesData.sort((a,b) => a.order - b.order).map((cat, idx) => `
                <div class="category-item" data-id="${cat.id}">
                    <span class="drag-handle"><i class="fas fa-grip-vertical"></i></span>
                    <select onchange="updateCategoryIcon('${cat.id}', this.value)" style="width:60px;padding:8px;background:var(--bg-card);border:1px solid var(--border);border-radius:8px;color:white;">
                        <option value="fa-landmark" ${cat.icon==='fa-landmark'?'selected':''}>ğŸ›</option>
                        <option value="fa-chart-line" ${cat.icon==='fa-chart-line'?'selected':''}>ğŸ“ˆ</option>
                        <option value="fa-futbol" ${cat.icon==='fa-futbol'?'selected':''}>âš½</option>
                        <option value="fa-microchip" ${cat.icon==='fa-microchip'?'selected':''}>ğŸ’»</option>
                        <option value="fa-palette" ${cat.icon==='fa-palette'?'selected':''}>ğŸ¨</option>
                        <option value="fa-heartbeat" ${cat.icon==='fa-heartbeat'?'selected':''}>â¤</option>
                        <option value="fa-globe" ${cat.icon==='fa-globe'?'selected':''}>ğŸŒ</option>
                        <option value="fa-star" ${cat.icon==='fa-star'?'selected':''}>â­</option>
                    </select>
                    <input type="text" value="${cat.name}" onchange="updateCategoryName('${cat.id}', this.value)" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…">
                    <span style="color:var(--text-gray);font-size:12px;">${newsDatabase.filter(n=>n.category===cat.id).length} Ø®Ø¨Ø±</span>
                    <button class="action-btn delete" onclick="deleteCategory('${cat.id}')"><i class="fas fa-trash"></i></button>
                </div>
            `).join('');
        }

        function updateCategoryName(id, name) { const cat = categoriesData.find(c => c.id === id); if (cat) cat.name = name; }
        function updateCategoryIcon(id, icon) { const cat = categoriesData.find(c => c.id === id); if (cat) cat.icon = icon; }
        
        function addNewCategory() {
            const id = 'cat_' + Date.now();
            categoriesData.push({ id, name: 'Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯', icon: 'fa-star', order: categoriesData.length + 1 });
            renderCategories();
        }

        function deleteCategory(id) {
            if (newsDatabase.some(n => n.category === id)) {
                showToast('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ù‚Ø³Ù… ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø®Ø¨Ø§Ø±', 'error');
                return;
            }
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…ØŸ')) {
                categoriesData = categoriesData.filter(c => c.id !== id);
                renderCategories();
            }
        }

        function saveCategories() {
            const items = document.querySelectorAll('.category-item');
            items.forEach((item, idx) => {
                const cat = categoriesData.find(c => c.id === item.dataset.id);
                if (cat) cat.order = idx + 1;
            });
            saveAllData();
            populateCategoryDropdowns();
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª ====================
        function renderMatches() {
            document.getElementById('matchesList').innerHTML = matchesData.map(m => `
                <div class="match-item-edit" data-id="${m.id}">
                    <input type="text" value="${m.team1}" onchange="updateMatch(${m.id}, 'team1', this.value)" placeholder="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„" style="flex:2;">
                    <input type="text" value="${m.score1}" onchange="updateMatch(${m.id}, 'score1', this.value)" placeholder="0" style="width:50px;text-align:center;">
                    <span style="color:var(--text-gray);">-</span>
                    <input type="text" value="${m.score2}" onchange="updateMatch(${m.id}, 'score2', this.value)" placeholder="0" style="width:50px;text-align:center;">
                    <input type="text" value="${m.team2}" onchange="updateMatch(${m.id}, 'team2', this.value)" placeholder="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ" style="flex:2;">
                    <input type="text" value="${m.time}" onchange="updateMatch(${m.id}, 'time', this.value)" placeholder="Ø§Ù„ÙˆÙ‚Øª" style="width:80px;">
                    <label style="display:flex;align-items:center;gap:5px;color:var(--text-gray);font-size:12px;">
                        <input type="checkbox" ${m.live ? 'checked' : ''} onchange="updateMatch(${m.id}, 'live', this.checked)"> Ù…Ø¨Ø§Ø´Ø±
                    </label>
                    <button class="action-btn delete" onclick="deleteMatch(${m.id})"><i class="fas fa-trash"></i></button>
                </div>
            `).join('') || '<p style="color:var(--text-gray);text-align:center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨Ø§Ø±ÙŠØ§Øª</p>';
        }

        function updateMatch(id, field, value) {
            const match = matchesData.find(m => m.id === id);
            if (match) match[field] = value;
        }

        function addNewMatch() {
            matchesData.push({ id: Date.now(), team1: '', team2: '', score1: '-', score2: '-', time: '', live: false });
            renderMatches();
        }

        function deleteMatch(id) {
            matchesData = matchesData.filter(m => m.id !== id);
            renderMatches();
        }

        function saveMatches() {
            saveAllData();
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Øª ====================
        function renderCurrency() {
            document.getElementById('currencyList').innerHTML = currencyData.map(c => `
                <div class="currency-item-edit" data-id="${c.id}">
                    <span style="font-size:24px;">${c.flag}</span>
                    <input type="text" value="${c.name}" onchange="updateCurrency('${c.id}', 'name', this.value)" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„Ø©" style="flex:2;">
                    <input type="number" step="0.01" value="${c.rate}" onchange="updateCurrency('${c.id}', 'rate', this.value)" placeholder="Ø§Ù„Ø³Ø¹Ø±" style="width:100px;">
                    <select onchange="updateCurrency('${c.id}', 'trend', this.value)" style="width:80px;padding:8px;background:var(--bg-card);border:1px solid var(--border);border-radius:8px;color:white;">
                        <option value="up" ${c.trend==='up'?'selected':''}>â–² ØµØ¹ÙˆØ¯</option>
                        <option value="down" ${c.trend==='down'?'selected':''}>â–¼ Ù‡Ø¨ÙˆØ·</option>
                    </select>
                </div>
            `).join('');
        }

        function updateCurrency(id, field, value) {
            const curr = currencyData.find(c => c.id === id);
            if (curr) curr[field] = value;
        }

        function saveCurrency() {
            saveAllData();
            showToast('ØªÙ… Ø­ÙØ¸ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙØ­Ø§Øª ====================
        function loadPageContent() {
            const pageId = document.getElementById('pageSelect').value;
            const page = pagesData[pageId];
            if (page) {
                document.getElementById('pageTitle').value = page.title || '';
                document.getElementById('pageContent').innerHTML = page.content || '';
            }
        }

        function formatPage(cmd) { document.execCommand(cmd, false, null); document.getElementById('pageContent').focus(); }

        function savePage() {
            const pageId = document.getElementById('pageSelect').value;
            pagesData[pageId] = {
                title: document.getElementById('pageTitle').value.trim(),
                content: document.getElementById('pageContent').innerHTML.trim()
            };
            saveAllData();
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ==================== Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ ====================
        function loadSocialLinks() {
            document.getElementById('socialFacebook').value = socialLinks.facebook || '';
            document.getElementById('socialTwitter').value = socialLinks.twitter || '';
            document.getElementById('socialYoutube').value = socialLinks.youtube || '';
            document.getElementById('socialInstagram').value = socialLinks.instagram || '';
            document.getElementById('socialTelegram').value = socialLinks.telegram || '';
        }

        function saveSocialLinks() {
            socialLinks = {
                facebook: document.getElementById('socialFacebook').value.trim(),
                twitter: document.getElementById('socialTwitter').value.trim(),
                youtube: document.getElementById('socialYoutube').value.trim(),
                instagram: document.getElementById('socialInstagram').value.trim(),
                telegram: document.getElementById('socialTelegram').value.trim()
            };
            saveAllData();
            showToast('ØªÙ… Ø­ÙØ¸ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ');
        }

        // ==================== Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† ====================
        function renderSubscribers() {
            document.getElementById('subscribersTable').innerHTML = subscribers.length ? subscribers.map((s, i) => `
                <tr>
                    <td>${i + 1}</td>
                    <td>${s.email || s}</td>
                    <td>${s.date ? formatDate(s.date) : '-'}</td>
                    <td><button class="action-btn delete" onclick="deleteSub(${i})"><i class="fas fa-trash"></i></button></td>
                </tr>
            `).join('') : '<tr><td colspan="4" style="text-align:center;color:var(--text-gray);">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø´ØªØ±ÙƒÙŠÙ†</td></tr>';
        }

        function deleteSub(i) { subscribers.splice(i, 1); saveAllData(); renderSubscribers(); showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø´ØªØ±Ùƒ'); }

        function exportSubscribers() {
            const csv = subscribers.map(s => s.email || s).join('\n');
            const blob = new Blob([csv], { type: 'text/csv' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'subscribers.csv';
            a.click();
            showToast('ØªÙ… Ø§Ù„ØªØµØ¯ÙŠØ±');
        }

        // ==================== Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ====================
        function exportData() {
            const data = { news: newsDatabase, subscribers, categories: categoriesData, matches: matchesData, currency: currencyData, pages: pagesData, social: socialLinks };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `horus-backup-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            showToast('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
        }

        function importData(e) {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (ev) => {
                try {
                    const data = JSON.parse(ev.target.result);
                    if (data.news) newsDatabase = data.news;
                    if (data.subscribers) subscribers = data.subscribers;
                    if (data.categories) categoriesData = data.categories;
                    if (data.matches) matchesData = data.matches;
                    if (data.currency) currencyData = data.currency;
                    if (data.pages) pagesData = data.pages;
                    if (data.social) socialLinks = data.social;
                    saveAllData();
                    showToast('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                    renderDashboard();
                } catch { showToast('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù', 'error'); }
            };
            reader.readAsText(file);
        }

        function clearAllData() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹!')) {
                localStorage.clear();
                sessionStorage.clear();
                location.reload();
            }
        }

        // ==================== Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø£ÙŠ ====================
        function renderArticlesSection() {
            const opinionArticles = newsDatabase.filter(n => n.isArticle);
            document.getElementById('articlesList').innerHTML = opinionArticles.length ? `
                <table class="table">
                    <thead><tr><th>Ø§Ù„ÙƒØ§ØªØ¨</th><th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>
                    <tbody>
                        ${opinionArticles.map(n => `
                            <tr>
                                <td><div style="display:flex;align-items:center;gap:10px;">
                                    <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(n.author || 'ÙƒØ§ØªØ¨')}&background=C9A227&color=fff&size=40" style="width:40px;height:40px;border-radius:50%;">
                                    <span>${n.author || 'ÙƒØ§ØªØ¨'}</span>
                                </div></td>
                                <td class="table-title"><h4>${n.title}</h4></td>
                                <td>${formatDate(n.date)}</td>
                                <td>${formatNumber(n.views || 0)}</td>
                                <td>
                                    <div class="actions">
                                        <button class="action-btn edit" onclick="editNews(${n.id})" title="ØªØ¹Ø¯ÙŠÙ„"><i class="fas fa-edit"></i></button>
                                        <button class="action-btn delete" onclick="deleteNews(${n.id})" title="Ø­Ø°Ù"><i class="fas fa-trash"></i></button>
                                    </div>
                                </td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            ` : '<p style="text-align:center;color:var(--text-gray);padding:40px;"><i class="fas fa-pen-fancy" style="font-size:50px;opacity:0.3;display:block;margin-bottom:15px;"></i>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ø±Ø£ÙŠ. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯" Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ù‚Ø§Ù„.</p>';
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ====================
        function renderVideos() {
            document.getElementById('videosList').innerHTML = videosData.length ? videosData.map((v, i) => `
                <div class="match-item-edit" style="flex-wrap:wrap;" data-id="${v.id}">
                    <img src="${v.image}" style="width:80px;height:50px;border-radius:8px;object-fit:cover;" onerror="this.src='https://via.placeholder.com/80x50'">
                    <input type="text" value="${v.title}" onchange="updateVideo(${v.id}, 'title', this.value)" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ" style="flex:2;min-width:200px;">
                    <input type="url" value="${v.url}" onchange="updateVideo(${v.id}, 'url', this.value)" placeholder="Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨" style="flex:2;min-width:200px;">
                    <input type="url" value="${v.image}" onchange="updateVideo(${v.id}, 'image', this.value)" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" style="flex:1;min-width:150px;">
                    <input type="text" value="${v.duration}" onchange="updateVideo(${v.id}, 'duration', this.value)" placeholder="Ø§Ù„Ù…Ø¯Ø©" style="width:70px;">
                    <button class="action-btn delete" onclick="deleteVideo(${v.id})"><i class="fas fa-trash"></i></button>
                </div>
            `).join('') : '<p style="text-align:center;color:var(--text-gray);padding:40px;">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯" Ù„Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ.</p>';
        }

        function updateVideo(id, field, value) {
            const video = videosData.find(v => v.id === id);
            if (video) video[field] = value;
        }

        function addNewVideo() {
            videosData.push({
                id: Date.now(),
                title: 'ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯',
                url: 'https://www.youtube.com/watch?v=',
                image: 'https://images.unsplash.com/photo-1611162616475-46b635cb6868?w=400',
                duration: '00:00'
            });
            renderVideos();
        }

        function deleteVideo(id) {
            videosData = videosData.filter(v => v.id !== id);
            renderVideos();
        }

        function saveVideos() {
            localStorage.setItem('videosData', JSON.stringify(videosData));
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ==================== Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± ====================
        function uploadImage(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showToast('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø©', 'error');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const imageData = e.target.result;
                document.getElementById('newsImage').value = imageData;
                document.getElementById('imagePreview').innerHTML = `<img src="${imageData}">`;
                showToast('ØªÙ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');
            };
            reader.readAsDataURL(file);
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø±Ø±ÙŠÙ† ====================
        function renderEditors() {
            document.getElementById('editorsTable').innerHTML = editorsData.length ? editorsData.map((e, i) => `
                <tr>
                    <td>${e.name}</td>
                    <td>${e.username}</td>
                    <td><span class="badge badge-category">${e.role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : 'Ù…Ø­Ø±Ø±'}</span></td>
                    <td>
                        <div class="actions">
                            <button class="action-btn edit" onclick="editEditor(${i})" title="ØªØ¹Ø¯ÙŠÙ„"><i class="fas fa-edit"></i></button>
                            <button class="action-btn delete" onclick="deleteEditor(${i})" title="Ø­Ø°Ù"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                </tr>
            `).join('') : '<tr><td colspan="4" style="text-align:center;color:var(--text-gray);">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­Ø±Ø±ÙŠÙ†. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ø­Ø±Ø± Ø¬Ø¯ÙŠØ¯" Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø­Ø±Ø±.</td></tr>';
        }

        function addNewEditor() {
            const name = prompt('Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø±Ø±:');
            if (!name) return;
            const username = prompt('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:');
            if (!username) return;
            const password = prompt('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:');
            if (!password) return;
            
            editorsData.push({
                id: Date.now(),
                name,
                username,
                password,
                role: 'editor'
            });
            localStorage.setItem('editorsData', JSON.stringify(editorsData));
            showToast('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­Ø±Ø± Ø¨Ù†Ø¬Ø§Ø­');
            renderEditors();
        }

        function editEditor(index) {
            const editor = editorsData[index];
            if (!editor) return;
            
            const name = prompt('Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø±Ø±:', editor.name);
            if (!name) return;
            const username = prompt('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', editor.username);
            if (!username) return;
            const password = prompt('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø§ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© Ù„Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©):', '');
            
            editor.name = name;
            editor.username = username;
            if (password) editor.password = password;
            
            localStorage.setItem('editorsData', JSON.stringify(editorsData));
            showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø±Ø±');
            renderEditors();
        }

        function deleteEditor(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­Ø±Ø±ØŸ')) {
                editorsData.splice(index, 1);
                localStorage.setItem('editorsData', JSON.stringify(editorsData));
                showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø±Ø±');
                renderEditors();
            }
        }

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡Ø§Øª ====================
        function loadPollData() {
            const pollData = JSON.parse(localStorage.getItem('pollData')) || {
                question: 'Ù…Ø§ Ø±Ø£ÙŠÙƒ ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠ Ø®Ù„Ø§Ù„ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØŸ',
                options: [
                    { text: 'Ù…Ù…ØªØ§Ø²', votes: 45 },
                    { text: 'Ø¬ÙŠØ¯', votes: 30 },
                    { text: 'ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†', votes: 25 }
                ]
            };
            
            document.getElementById('pollQuestion').value = pollData.question;
            if (pollData.options[0]) document.getElementById('pollOption1').value = pollData.options[0].text;
            if (pollData.options[1]) document.getElementById('pollOption2').value = pollData.options[1].text;
            if (pollData.options[2]) document.getElementById('pollOption3').value = pollData.options[2].text;
            
            renderPollResults(pollData);
        }

        function renderPollResults(pollData) {
            const total = pollData.options.reduce((sum, opt) => sum + opt.votes, 0);
            document.getElementById('pollResults').innerHTML = `
                <p style="margin-bottom:15px;"><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ØµÙˆØ§Øª:</strong> ${total}</p>
                ${pollData.options.map(opt => {
                    const percent = total > 0 ? Math.round((opt.votes / total) * 100) : 0;
                    return `
                        <div style="margin-bottom:15px;">
                            <div style="display:flex;justify-content:space-between;margin-bottom:5px;">
                                <span>${opt.text}</span>
                                <span>${opt.votes} ØµÙˆØª (${percent}%)</span>
                            </div>
                            <div style="background:var(--accent-light);border-radius:10px;height:20px;overflow:hidden;">
                                <div style="background:var(--primary);height:100%;width:${percent}%;transition:width 0.5s;"></div>
                            </div>
                        </div>
                    `;
                }).join('')}
            `;
        }

        function savePoll() {
            const question = document.getElementById('pollQuestion').value.trim();
            const opt1 = document.getElementById('pollOption1').value.trim();
            const opt2 = document.getElementById('pollOption2').value.trim();
            const opt3 = document.getElementById('pollOption3').value.trim();
            
            if (!question || !opt1 || !opt2 || !opt3) {
                showToast('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
                return;
            }
            
            const oldData = JSON.parse(localStorage.getItem('pollData')) || { options: [{votes:0},{votes:0},{votes:0}] };
            
            const pollData = {
                question,
                options: [
                    { text: opt1, votes: oldData.options[0]?.votes || 0 },
                    { text: opt2, votes: oldData.options[1]?.votes || 0 },
                    { text: opt3, votes: oldData.options[2]?.votes || 0 }
                ]
            };
            
            localStorage.setItem('pollData', JSON.stringify(pollData));
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø§Ø³ØªÙØªØ§Ø¡ Ø¨Ù†Ø¬Ø§Ø­');
            renderPollResults(pollData);
        }

        function resetPollVotes() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£ØµÙˆØ§ØªØŸ')) {
                const pollData = JSON.parse(localStorage.getItem('pollData'));
                if (pollData) {
                    pollData.options.forEach(opt => opt.votes = 0);
                    localStorage.setItem('pollData', JSON.stringify(pollData));
                    localStorage.removeItem('pollVoted');
                    showToast('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£ØµÙˆØ§Øª');
                    renderPollResults(pollData);
                }
            }
        }

        // ==================== Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ù…Ø­Ø³Ù† ====================
        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.sidebar-nav a').forEach(a => a.classList.remove('active'));
            
            const tabElement = document.getElementById(tab + 'Tab');
            if (tabElement) tabElement.classList.add('active');
            
            if (event && event.target) event.target.classList.add('active');
            document.getElementById('sidebar').classList.remove('open');
            
            if (tab === 'dashboard') renderDashboard();
            else if (tab === 'articles') renderArticles();
            else if (tab === 'add-article') resetForm();
            else if (tab === 'categories') renderCategories();
            else if (tab === 'articles-section') renderArticlesSection();
            else if (tab === 'videos') renderVideos();
            else if (tab === 'matches') renderMatches();
            else if (tab === 'currency') renderCurrency();
            else if (tab === 'editors') renderEditors();
            else if (tab === 'pages') loadPageContent();
            else if (tab === 'social') loadSocialLinks();
            else if (tab === 'subscribers') renderSubscribers();
            else if (tab === 'polls') loadPollData();
            else if (tab === 'settings') loadEditorInChiefSetting();
        }

        // ==================== Ø§Ù„Ø¨Ø¯Ø¡ ====================
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('Admin Panel Initializing...');
            await initSupabase();
            await fetchNewsFromSupabase();
            checkLogin();
            console.log('Admin Panel Ready!');
        });
    </script>
</body>
</html>
